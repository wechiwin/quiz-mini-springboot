<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1"/>
    <title>Studiamo l'italiano</title>
    <!--    <script src="/common/common-js.js" type="application/javascript"></script>-->
    <!--    <script type="text/javascript" src="https://cdn.bootcss.com/jquery/3.3.1/jquery.min.js"></script>-->
    <!--    <script type="text/javascript" src="https://cdn.bootcss.com/vue/2.5.17-beta.0/vue.js"></script>-->
    <!--    <script type="text/javascript" src="static/js/jquery.min.js"></script>-->
    <!--    <script type="text/javascript" src="static/js/vue@2.6.20.min.js"></script>-->
    <!--        <script src="../static/js/vue@2.6.20.min.js" type="text/javascript"></script>-->
    <!--        <script src="../static/js/element-ui@2.12.0.min.js" type="text/javascript"></script>-->
    <script type="text/javascript" th:src="@{/static/js/jquery.min.js}"></script>
    <script type="text/javascript" th:src="@{/static/js/vue@2.6.20.min.js}"></script>
</head>
<body>
<div id="app">
    <div class="header">
        <a th:href="@{/}" class="header-text">Studiamo!</a>
        <button @click="handleToManage" class="fix-button-left">Manage</button>
        <button onclick="toggleDarkMode()" class="fix-button-right">‚òÄÔ∏è/üåô</button>
    </div>

    <div id="folderList" class="list-content">
        <div v-for="folder in list" :key="folder.foPkid">
            <!--            <a class="list-item" :href="`/quiz/card/listByFoPkid/foPkid=${folder.foPkid}`">{{folder.foName}}</a>-->
            <!--            <a class="list-item" href="javascript:;" @click="navigateAndPost(folder.foPkid)">{{folder.foName}}</a>-->
            <a class="list-item" :href="['/quiz/card/listByFoPkid/'+folder.foPkid]">{{folder.foName}} </a>
        </div>
    </div>


</div>

</div>

<script type="text/javascript">
    function toggleDarkMode() {
        const currentMode = localStorage.getItem('mode') || 'dark';
        const newMode = currentMode === 'dark' ? 'light' : 'dark';

        document.documentElement.classList.toggle('dark-mode');

        localStorage.setItem('mode', newMode);
    }

    var getList = function () {
        var _this = this;
        var param = {
            foName: ""
        };
        $.ajax({
            type: "POST",
            url: "/quiz/folder/searchList",
            data: JSON.stringify(param),
            dataType: "json",
            contentType: "application/json",
            success: function (result) {
                if (result.status == 200) {
                    console.log(result)
                    _this.list = result.data;
                }
            }
        });
    }
    new Vue({
        el: '#app',
        data() {
            return {
                list: [],
                searchList: '',
            }
        },
        mounted() {
            this.handleDark()
            this.getList();
        },
        methods: {
            handleDark() {
                let mode = localStorage.getItem('mode')
                if (mode === 'dark') {
                    document.documentElement.classList.toggle('dark-mode');
                }
            },
            handleToManage() {
                window.location.href = "/quiz/manage";
            },
            getList: getList,
            navigateAndPost(foPkid) {
                // Perform a POST request using the Fetch API
                fetch('/quiz/card/listByFoPkid', {
                    method: 'POST',
                    headers: {
                        'Content-Type': 'application/json',
                    },
                    body: JSON.stringify({foPkid: foPkid}),
                })
                    .then(response => {
                        // Handle the response as needed
                        console.log(response);
                        // If you want to navigate after the POST request, you can use window.location.href
                        // window.location.href = '/quiz/card?foPkid='+foPkid;
                    })
                    .catch(error => {
                        // Handle errors
                        console.error(error);
                    });
            },
        }
    })
</script>
</body>

<style>
    body {
        margin: 0;
        font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', 'Roboto', 'Oxygen',
        'Ubuntu', 'Cantarell', 'Fira Sans', 'Droid Sans', 'Helvetica Neue',
        sans-serif;
        -webkit-font-smoothing: antialiased;
        -moz-osx-font-smoothing: grayscale;
        font-family: 'Arial', sans-serif;
        background-color: #f5f8fa;
        padding: 0;
    }

    .dark-mode body {
        background-color: #52596e;
    }

    .header {
        padding: 10px 20px;
        display: flex;
        justify-content: center;
        align-items: center;
        /*width: 100vw;*/
        /*background-color: #bcd2e8; !* Twitter-like blue background color *!*/
        /*border-bottom: 1px solid #0f89d1; !* Slightly darker border color *!*/
    }

    .header-text {
        color: #1da1f2;
        text-decoration: underline;
        text-align: center;
        display: block;
        font-size: 2em;
        margin-block-start: 0.67em;
        margin-block-end: 0.67em;
        margin-inline-start: 0px;
        margin-inline-end: 0px;
        font-weight: bold;
    }

    button {
        padding: 10px 20px;
        margin: 10px;
        border: none;
        border-radius: 25px;
        font-size: 16px;
        cursor: pointer;
        background-color: #1da1f2;
        color: #fff;
        transition: background-color 0.3s ease;
    }

    button:hover {
        background-color: #0e81d4;
    }

    .fix-button-right {
        position: fixed;
        right: 0;
    }

    .fix-button-left {
        position: fixed;
        left: 0;
    }


    /*ÁßªÂä®Á´Ø*/
    @media screen and (max-width: 750px) {
        .list-content {
            list-style-type: none;
            padding: 0;
            display: flex;
            flex-wrap: wrap;
            justify-content: flex-start;
            flex-direction: column;
            align-items: center;
            align-content: center;
        }

        .list-item {
            display: list-item;
            width: 200px;
            line-height: 40px;
            cursor: pointer;
            padding: 10px;
            margin: 10px;
            border: 1px solid #e1e8ed;
            border-radius: 5px;
            background-color: #ffffff;
            transition: background-color 0.3s ease;
            text-align: center;
            text-decoration: none;
            color: #000000;
        }

        .dark-mode .list-item {
            color: #ced6e1;
            background-color: seashell
        }

        .list-item:hover {
            background-color: #f5f8fa;
        }

        .dark-mode .list-item:hover {
            color: paleturquoise;
        }

    }

    /*PCÁ´Ø*/
    @media screen and (min-width: 751px) {
        .list-content {
            list-style-type: none;
            padding: 0;
            display: flex;
            flex-wrap: wrap;
            justify-content: flex-start;
            flex-direction: column;
            height: 86vh;
            align-items: center;
            align-content: center;
        }

        .list-item {
            display: list-item;
            width: 250px;
            line-height: 40px;
            cursor: pointer;
            padding: 10px;
            margin: 10px;
            border: 1px solid #e1e8ed;
            border-radius: 5px;
            background-color: #ffffff;
            transition: background-color 0.3s ease;
            text-align: center;
            text-decoration: none;
            color: #000000;
        }


        .dark-mode .list-item {
            color: #52596e;
            background-color: #e2e3ef;
        }

        .list-item:hover {
            background-color: #f5f8fa;
        }

        .dark-mode .list-item:hover {
            color: #1da1f2;
        }


    }

    .dark-mode {
        background-color: #52596e; /* Choose a dark background color */
        color: #ced6e1; /* Choose a light text color */
    }

    .dark-mode button {
        background-color: #223c5b; /* Choose a dark color for the button */
        color: #ced6e1; /* Choose a light text color for the button */
    }

    .dark-mode p {
        color: #ced6e1; /* Choose a light text color for the button */
    }


</style>

</html>